((function(){var KeyFSM,KeyState,appCache,appCacheUpdate,capitalize,cheatViewer,clickSaveas,clipboard,currentFile,evalCS,fileOptions,fireKeyEvent,fireTextEvent,formatForSave,initCheatViewer,initMarkupEditor,initScriptEditor,jssnippet,keyActive,keyCodes,keyInactive,keySound,keySubActive,keySubInactive,layoutEditor,markupEditor,max,menuBar,prefetchKeyEvent,resetSelect,resetSelects,sampleOptions,samples,scriptEditor,settingMenu,softKeyboard;samples={underscore:{script:"# A sample for Underscore.js\n# PLEASE import Underscore.js before letting it run!\nif not _?\n  alert 'PLEASE import Underscore.js!'\n  return\n\n# Project Euler, Problem 1\n# If we list all the natural numbers below 10 that are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23.\n# Find the sum of all the multiples of 3 or 5 below 1000.\n\nn = 1000\nunion = _.union (x for x in [3...n] by 3), (x for x in [5...n] by 5)\nsum = (list) ->\n  _(list).reduce ((acc, num) -> acc + num), 0\nwindow.siphon.log 'answer = ' + sum union\n\n# Derived problem\n# Solve the above problem using some formula to reduce amount of computations.\n\n\n# Project Euler, Problem 2\n# Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:\n#         1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...\n# Find the sum of all the even-valued terms in the sequence which do not exceed four million.\n\nfibonacci = _.memoize (n) ->\n  if n <= 2 then n else fibonacci(n - 2) + fibonacci(n - 1)\n\nacc = 0\ni = 1\nuntil fibonacci(i) > 4000000\n  acc += fibonacci(i) if fibonacci(i) % 2 == 0\n  i++\nwindow.siphon.log 'answer = ' + acc",markup:""},processing:{script:"# A sample for Processing.js\n# PLEASE import Processing.js before letting it run!\n# This sample is based on http://dry.ly/2011/02/21/coffeescript--processingjs--crazy-delicious/\nif not Processing?\n  alert 'PLEASE import Processing.js!'\n  return\n\ndraw = (p5) -> # p5 is a contraction of processing\n  p5.setup = ->\n    p5.size $('#application').width(), $('#application').height()\n    p5.background 0\n\n  p5.draw = ->\n    # noise() needs an \"offset\" argument\n    # we'll tie it to the frame count\n    x_off = p5.frameCount * 0.0005\n\n    # we want y's offset to increase at the same rate\n    # but be different (20 is arbitrary)\n    y_off = x_off + 20\n\n    # use noise(), the offset, and our sketch's dimensions\n    # to get a \"random\" position for our \"brush\"\n    x = p5.noise(x_off) * p5.width\n    y = p5.noise(y_off) * p5.height\n\n    # color our brush (red with 15% opacity)\n    p5.stroke(255, 0, 0, 15)\n\n    # draw at brush's current location (set above)\n    p5.point(x, y)\n\nprocessing = new Processing($('#canvas')[0], draw)\n$('#exitbutton').bind 'click', ->\n  window.siphon.log 'terminate'\n  processing.exit()",markup:'<button id="exitbutton">terminate drawing</button>\n<canvas id="canvas"></canvas>'},raphael:{script:"# A sample for Raphaël\n# PLEASE import Raphaël before letting it run!\n# This sample is based on http://raphaeljs.com/playground.html\nif not Raphael?\n  alert 'PLEASE import Raphaël!'\n  return\n\npaper = Raphael($('#application')[0], 640, 480)\npaper.circle(320, 240, 60).animate\n    fill : '#223fa3'\n    stroke : '#000'\n    'stroke-width' : 80\n    'stroke-opacity' : 0.5\n  , 2000",markup:""},dygraphs:{script:"# A sample for dygraphs\n# PLEASE import \"dygraphs\" before letting it run!\n# This sample is based on http://dygraphs.com/tests/demo.html\nif not Dygraph?\n  alert 'PLEASE import \"dygraphs\"!'\n  return\n\ngraph = new Dygraph document.getElementById(\"dygraph\"),\n  ->\n    zp = (x) -> if (x < 10) then \"0\"+x else x\n    r = \"date,parabola,line,another line,sine wave\\n\";\n    for i in [1..31]\n      r += \"200610\" + zp(i)\n      r += \",\" + 10*(i*(31-i))\n      r += \",\" + 10*(8*i)\n      r += \",\" + 10*(250 - 8*i)\n      r += \",\" + 10*(125 + 125 * Math.sin(0.3*i))\n      r += \"\\n\";\n    r\n  ,\n    labelsDiv : document.getElementById('status')\n    labelsSeparateLines : true\n    labelsKMB : true\n    legend : 'always'\n    colors : ['rgb(51,204,204)'\n              'rgb(255,100,100)'\n              '#00DD55'\n              'rgba(50,50,200,0.4)']\n    width : 640\n    height : 480\n    title : 'Interesting Shapes'\n    xlabel : 'Date'\n    ylabel : 'Count'\n    axisLineColor : 'white'\n    drawXGrid : false",markup:'<font size=-1>(Mouse over to highlight individual values. Click and drag to zoom. Double-click to zoom out.)</font><br/>\n<table>\n  <tr>\n    <td>\n      <div id="dygraph"></div>\n    </td>\n    <td valign=top>\n      <div id="status" style="width:200px; font-size:0.8em; padding-top:5px;"></div>\n    </td>\n  </tr>\n</table>'}},keySound={source:new Audio("sounds/click.aiff"),enable:!0,play:function(){if(!this.enable)return;return this.source.play(),keySound.timer=setTimeout(function(){keySound.source.pause();try{return keySound.source.currentTime=0}catch(a){}},30)}},KeyFSM=function(){function a(a,b,c){this.state=a,this.observer=b,this.holdTime=c}return a.prototype.setState=function(a){return this.state=a,this.changed()},a.prototype.subkey=function(){var a;return(a=this.observer.childNodes[1])!=null?a:null},a.prototype.changed=function(){return this.state.update(this.observer,this.subkey())},a.prototype.clearTimer=function(){return this.timer!=null&&clearTimeout(this.timer),this.timer=null},a.prototype.touchStart=function(a,b){var c=this;return this.startX=a,this.startY=b,setTimeout(function(){return keySound.source.play()},0),this.setState(keyActive),this.subkey()!=null&&(this.timer=setTimeout(function(){return c.setState(keySubActive)},this.holdTime)),fireKeyEvent("keydown",this.observer.id,this.keyCode(),0)},a.prototype.touchMove=function(a){var b,c,d;return d=a.targetTouches[0],b=d.pageX-this.startX,c=d.pageY-this.startY,this.state.touchMove(this,b,c)},a.prototype.touchEnd=function(){return this.state.touchEnd(this),fireKeyEvent("keyup",this.observer.id,this.keyCode(),0)},a.prototype.keyCode=function(){return this.observer.id!=null?keyCodes[this.observer.id]:this.observer.title!=null?this.observer.title.charCodeAt(0):0},a}(),KeyState=function(){function a(){}return a.prototype.update=function(a,b){},a.prototype.touchMove=function(a,b,c){},a.prototype.touchEnd=function(a){},a.prototype.inRange=function(a,b){var c;return c=$(".key").width(),-c<a&&a<c&&-2*c<b&&b<c},a}(),keyInactive=new KeyState,keyInactive.update=function(a,b){if(b!=null)return b.style.display="none"},keyActive=new KeyState,keyActive.update=function(a,b){return a.style.backgroundColor="#a0a0a0"},keyActive.touchMove=function(a,b,c){var d;d=30;if(a.subkey()!=null&&c<-d&&-d<b&&b<d)return a.clearTimer(),a.setState(keySubActive);if(!this.inRange(b,c))return a.clearTimer(),a.setState(keyInactive)},keyActive.touchEnd=function(a){var b;return a.clearTimer(),a.observer.title!=null&&(b=a.observer.title.charCodeAt(0),fireTextEvent(a.observer.title),fireKeyEvent("keypress",b,b)),a.setState(keyInactive)},keySubActive=new KeyState,keySubActive.update=function(a,b){return $(b).css("color","#fff"),$(b).css("background-image","-webkit-gradient(linear, left top, left bottom, from(rgb(65,134,245)), to(rgb(25,79,220)))"),b.style.display="block"},keySubActive.touchMove=function(a,b,c){if(!this.inRange(b,c))return a.setState(keySubInactive)},keySubActive.touchEnd=function(a){var b;return a.subkey().title!=null&&a.subkey().title!==""&&(b=a.subkey().title.charCodeAt(0),fireTextEvent(a.subkey().title),fireKeyEvent("keypress",b,b)),a.setState(keyInactive)},keySubInactive=new KeyState,keySubInactive.update=function(a,b){return $(b).css("color","#000"),$(b).css("background-image","-webkit-gradient(linear, left top, left bottom, from(#EEEEF0), to(#D2D2D8))")},keySubInactive.touchMove=function(a,b,c){if(this.inRange(b,c))return a.setState(keySubActive)},keySubInactive.touchEnd=function(a){return a.setState(keyInactive)},keyCodes={Control:17,Alt:18,Meta:91,Left:37,Right:39,Up:38,Home:36,PageUp:33,"U+0009":9,Down:40,End:35,PageDown:34,Shift:16},KeyboardEvent.DOM_KEY_LOCATION_STANDARD=0,fireKeyEvent=function(a,b,c,d){var e;return e=document.createEvent("KeyboardEvent"),e.initKeyboardEvent(a,!0,!0,window,b,KeyboardEvent.DOM_KEY_LOCATION_STANDARD,""),e.override={keyCode:c,charCode:d},document.activeElement.dispatchEvent(e)},TextEvent.DOM_INPUT_METHOD_KEYBOARD=1,TextEvent.DOM_INPUT_METHOD_PASTE=2,fireTextEvent=function(a,b){var c;return b==null&&(b=TextEvent.DOM_INPUT_METHOD_KEYBOARD),c=document.createEvent("TextEvent"),c.initTextEvent("textInput",!0,!0,window,a,TextEvent.DOM_INPUT_METHOD_KEYBOARD),document.activeElement.dispatchEvent(c)},window.siphon={},window.siphon.log=function(a){return $("#console").html($("#console").html()+a+"\n")},scriptEditor=null,cheatViewer=null,markupEditor=null,clipboard=null,jssnippet="",capitalize=function(a){return a.substring(0,1).toUpperCase()+a.substring(1)},max=function(a){return Math.max.apply(null,a)},evalCS=function(str){var result;try{return jssnippet=CoffeeScript.compile(str,{bare:!0}),result=eval(jssnippet),$("#error").text("done."),result}catch(error){return $("#error").text(error.message)}},fileOptions=function(){var a,b,c,d;c=[];for(b=0,d=localStorage.length;0<=d?b<d:b>d;0<=d?b++:b--)a=document.createElement("option"),a.appendChild(document.createTextNode(localStorage.key(b))),c.push(a);return c},sampleOptions=function(){var a,b,c,d;c=[];for(b in samples)d=samples[b],localStorage[b]==null&&(a=document.createElement("option"),a.appendChild(document.createTextNode(b)),c.push(a));return c},resetSelect=function(a,b){var c,d;b==null&&(b=!1),d="#"+a,$(d).empty(),c=document.createElement("option"),c.appendChild(document.createTextNode(capitalize(a+"..."))),c.value="",c.disabled=!0,$(d).append(c),fileOptions().forEach(function(a){return $(d).append(a)});if(b)return c=document.createElement("option"),c.appendChild(document.createTextNode("samples")),c.value="",c.disabled=!0,sampleOptions().forEach(function(a){return $(d).append(a)})},resetSelects=function(){return resetSelect("open",!0),resetSelect("delete")},formatForSave=function(){var a;return a={script:scriptEditor.getValue(),markup:markupEditor.getValue()},JSON.stringify(a)},clickSaveas=function(){var a;a=prompt("filename:");if(a==null)return;return localStorage.setItem(a,formatForSave()),resetSelects()},layoutEditor=function(){var a;return a=window.innerHeight-max($.makeArray($('div[data-role="header"]').map(function(){return $(this).outerHeight(!0)})))-($(scriptEditor.element).outerHeight(!0)-$(scriptEditor.element).height())-$("#backofkeyboard").height(),$("#keyboard-on")[0].checked&&(a-=$("#keys").outerHeight(!0)),markupEditor.setHeight(a+"px"),a-=$("#error").outerHeight(!0),scriptEditor.setHeight(a+"px"),a=window.innerHeight-max($.makeArray($('div[data-role="header"]').map(function(){return $(this).outerHeight(!0)})))-($("#application").outerHeight(!0)-$("#application").height())-$("#console").outerHeight(!0),$("#application").height(a+"px")},currentFile=null,appCache=window.applicationCache,appCache.addEventListener("checking",function(){if(this.manual)return $("#error").text("Checking...")}),appCache.addEventListener("noupdate",function(){if(this.manual)return $("#error").text("No update")}),appCache.addEventListener("downloading",function(){if(this.manual)return $("#error").text("Newer version was found. Now downloading...")}),appCache.addEventListener("cached",function(){return alert("Conguatulation! You can use Siphon offline.")}),appCache.addEventListener("updateready",function(){if(this.manual&&this.status===this.UPDATEREADY)return this.swapCache(),window.location.reload()}),appCache.addEventListener("obsolete",function(){return alert("Sorry for inconvenience. Siphon moved to http://y-ich.github.com/Siphon/ on 2011/12/13.")}),appCache.addEventListener("error",function(){if(this.manual)return $("#error").text("Error.")}),appCacheUpdate=function(){try{appCache.manual=!0;if(navigator.onLine)return appCache.update()}catch(a){return console.log(a)}},initScriptEditor=function(){var a;return scriptEditor=CodeMirror($("#scripteditor")[0],{value:"# \"do-it\" feature\n# Select a line below by tapping the line and pressing cntrl + l.\n# And press cntrl + r to run the line and see the result.\n1 + 1\n\n# Console feature\n# A message will appear on the console pane in runpage.\nwindow.siphon.log 'Hello, world.'",matchBrackets:!0,mode:"coffeescript",lineNumbers:!0,onChange:function(){return scriptEditor.compile()},onKeyEvent:prefetchKeyEvent}),scriptEditor.bodyTop=0,a=scriptEditor.getInputField(),a.addEventListener("mousedown",function(){return scriptEditor.bodyTop=document.body.scrollTop}),a.addEventListener("focus",function(){return window.scrollTo(0,scriptEditor.bodyTop)}),scriptEditor.element=scriptEditor.getWrapperElement(),scriptEditor.setHeight=function(a){return this.getScrollerElement().style.height=a,this.refresh()},scriptEditor.compile=function(){var a;try{return a=CoffeeScript.compile(this.getValue()),$("#error").text(""),a}catch(b){return $("#error").text(b.message),""}},scriptEditor.compile()},initCheatViewer=function(){var a;return a=$("#cheat").parent()[0],$("#cheat").remove(),cheatViewer=CodeMirror(a,{mode:"coffeescript",readOnly:!0,value:'# CoffeeScript Cheat Sheet\n# based on "The Little Book on CoffeeScript".\n\n# A comment\n\n###\nA multiline comment\n###\n\n# No need to declare a variable. Just assign into it.\nmyVariable = "test"\n\n# To export a variable out of the code,\n# make a property in a global object.\nexports = this\nexports.myVariable = "foo-bar"\n\n# "->", called "arrow", means start of function definition.\nfunc = -> "bar"\n\n# INDENTED lines are recognized as a block.\nfunc  ->\n  # An extra line\n  "bar"\n\n# variables in parentheses before the arrow are arguments.\ntimes = (a, b) -> a * b\n\n# equations in parentheses give default values\n# if an argument is omitted when invoking.\ntimes = (a = 1, b = 2) -> a * b\n\n# Variable arguments. nums should be an array.\nsum = (nums...) ->\n  result = 0\n  nums.forEach (n) -> result += n\n  result\n\n# function name + argument(s) is function invocation.\n# parentheses are optional unless no argument.\nalert("Howdy!")\nalert inspect("Howdy!")\n\n# \'=>\', called "fat arrow", also means start of function definition,\n# except that "this" in the fucntion body indicates local context\n# of the function definition.\nthis.clickHandler = -> alert "clicked"\nelement.addEventListener "click", (e) => this.clickHandler(e)\n\n# Object literals. Braces are optional.\nobject1 = {one : 1, two : 2}\nobject2 = one : 1, two : 2\nobject3 =\n  one : 1\n  two : 2\n\n# Array literals. Brackets are mandatory.\narray1 = [1, 2, 3]\narray2 = [\n  1\n  2\n  3\n]\n\n# Conditional expression\nif true == true\n  "We\'re ok"\nif true != true then "Panic"\nif 1 > 0 then "Ok" else "Y2K!"\nalert "It\'s cold!" if heat %lt; 5\n\n# negate operator\nif not true then "Panic"\n\n# unless\nunless true\n  "Panic"\n\n# is/isnt statement\nif true is 1\n  "Type coercion fail!"\nif true isnt true\n  alert "Opposite day!"\n\n# String interpolation.\n# You can embed a value of a variable into a String.\nfavourite_color = "Blue. No, yel..."\nquestion = "Bridgekeeper: What... is your favourite color?\n            Galahad: #{favourite_color}\n            Bridgekeeper: Wrong!\n            "\n# Loops in an array\nprisoners = ["Roger", "Roderick", "Brian"]\nfor name in prisoners\n  alert "Release #{name}"\nfor name, i in ["Roger the pickpocket", "Roderick the robber"]\n  alert "#{i} - Release #{name}"\nrelease prisoner for prisoner in prisoners\nrelease prisoner for prisoner in prisoners when prisoner[0] is "R"\n\n# Loops in an object\nnames = sam: seaborn, donna: moss\nalert("#{first} #{last}") for first, last of names\n\n# "while", the only low-level loop.\nnum = 6\nminstrel = while num -= 1\n  num + " Brave Sir Robin ran away"\n\n# loop is while true\nloop\n  return if confirm(\'Are you sure?\')\n\n# until is while not\n\n# Arrays\nrange = [1..5] # [1,2,3,4,5]\n\nfirstTwo = ["one", "two", "three"][0..1]\nmy_ = "my string"[0..2]\n\n# Multiple assignments\nnumbers = [0..9]\nnumbers[3..5] = [-3, -4, -5]\n\n# existence in an array.\nwords = ["rattled", "roudy", "rebbles", "ranks"]\nalert "Stop wagging me" if "ranks" in words\n\n# Aliases\n@saviour = true # this.saviour = true\n\nUser::first = -> @records[0] # User.prototype.first = this.record[0]\n\n# existential operators\npraise if brian?\n\nvelocity = southern ? 40\n\n# undefined or null check of return value.\nblackKnight.getLegs()?.kick()\n\n# undefined or null check of function itself.\nblackKnight.getLegs().kick?()\n\n# Class\nclass Animal\n  @find : (name) = -> # class variable(property)\n    # implementation\n\n  price : 5 # instance variable(property)\n\n  constructor : (@name) ->\n  # Instance variable "name" is declared automatically\n  # and the argument would be assigned automatically.\n\n  sell : =>\n    alert "Give me #{@price} shillings!"\n    # using \'=>\' means "this" in body is binded to current instance even if the property is passed as function.\n\nanimal = new Animal\n$("#sell").click(animal.sell)\n\n# Inheritance\nclass Parrot extends Animal\n  constructor : ->\n    super("Parrot")\n    # super is the function of the super class named as same.'}),$("textarea",cheatViewer.getWrapperElement()).attr("disabled","true")},initMarkupEditor=function(){var a;return a=$("#markupeditor").parent()[0],$("#markupeditor").remove(),markupEditor=CodeMirror(a,{value:'<!-- The HTML snippet here will be injected into the content of Run page when executing the script -->\n<div style="width: 100px; height: 100px; border-radius: 50%; background: -webkit-radial-gradient(30% 30%, white, black);"></div>\n<canvas id="canvas" style="margin: 10px; width: 300px; height: 150px; border: 1px solid green;"></canvas>\n<svg id="svg" style="margin: 10px; width: 300px; height: 150px; border: 1px solid blue;"></svg>',matchBrackets:!0,mode:{name:"xml",htmlMode:!0},lineNumbers:!0,onKeyEvent:prefetchKeyEvent}),markupEditor.setHeight=function(a){return this.getScrollerElement().style.height=a,this.refresh()}},prefetchKeyEvent=function(a,b){var c,d;b.override==null&&(b.override={}),b.override.metaKey=$("#Meta")[0].model!=null&&$("#Meta")[0].model.state===keyActive,b.override.ctrlKey=$("#Control")[0].model!=null&&$("#Control")[0].model.state===keyActive,b.override.altKey=$("#Alt")[0].model!=null&&$("#Alt")[0].model.state===keyActive,b.override.shiftKey=$("#Shift")[0].model!=null&&$("#Shift")[0].model.state===keyActive;if(b.override.metaKey)switch(b.keyCode){case 88:return b.type==="keydown"&&(clipboard=scriptEditor.getSelection(),scriptEditor.replaceSelection("")),b.stop(),!0;case 67:return b.type==="keydown"&&(clipboard=scriptEditor.getSelection()),b.stop(),!0;case 86:return b.type==="keydown"&&clipboard!=null&&clipboard!==""&&fireTextEvent(clipboard,TextEvent.DOM_INPUT_METHOD_PASTE),b.stop(),!0}if(b.ctrlKey||b.override.ctrlKey)switch(b.keyCode){case 76:return b.type==="keydown"&&(c=scriptEditor.getCursor().line,scriptEditor.setSelection({line:c,ch:0},{line:c,ch:scriptEditor.getLine(c).length})),b.stop(),!0;case 82:return b.type==="keydown"&&(clipboard=scriptEditor.getSelection(),d=evalCS(clipboard),d!=null&&scriptEditor.replaceSelection(d.toString())),b.stop(),!0}return!1},softKeyboard=function(){return $(".key.main").bind("touchstart",function(a){var b;return b=a.originalEvent.targetTouches[0],this.model==null&&(this.model=new KeyFSM(keyInactive,this,400)),this.model.touchStart(b.pageX,b.pageY)}),$(".key.main").bind("touchmove",function(a){return this.model.touchMove(a.originalEvent),a.preventDefault()}),$(".key.main").bind("touchend",function(a){return this.model.touchEnd()})},menuBar=function(){return $("#new").click(function(){return scriptEditor.setValue(""),currentFile=null}),$("#save").click(function(){return currentFile==null||currentFile===""?clickSaveas():(localStorage.setItem(currentFile,formatForSave()),alert('"'+currentFile+'" was saved.'))}),$("#saveas").click(clickSaveas),$("#about").click(function(){if(confirm("Siphon\nCoffeeScript Programming Environment\nVersion 0.6.3\nCopyright (C) 2011 ICHIKAWA, Yuji All Rights Reserved.\nDo you want to check update?"))return appCacheUpdate()}),resetSelects(),$("#open").change(function(){var a;currentFile=$("#open")[0].value;if(currentFile!=null&&currentFile!=="")if(localStorage[currentFile]!=null)try{a=JSON.parse(localStorage[currentFile]),a.script!=null&&scriptEditor.setValue(a.script),a.markup!=null&&markupEditor.setValue(a.markup)}catch(b){scriptEditor.setValue(localStorage[$("#open")[0].value]),markupEditor.setValue("")}else try{a=samples[currentFile],a.script!=null&&scriptEditor.setValue(a.script),a.markup!=null&&markupEditor.setValue(a.markup)}catch(b){console.log(b.message)}return $("#open")[0].selectedIndex=0,$("#open").selectmenu("refresh")}),$("#delete").change(function(){return confirm('Do you want to delete "'+$("#delete")[0].value+'"? (Current file is "'+currentFile+'".)')&&(localStorage.removeItem($("#delete")[0].value),resetSelects()),$("#delete")[0].selectedIndex=0,$("#delete").selectmenu("refresh")}),$("#import").change(function(){var a;return confirm('Do you want to import "'+$("#import")[0].value+'"?')&&(a=document.createElement("script"),a.type="text/javascript",a.src=$("#import")[0].value,document.head.appendChild(a)),$("#import")[0].selectedIndex=0,$("#import").selectmenu("refresh")})},settingMenu=function(){return $("#keyboard-on").change(layoutEditor),$("#key-sound").change(function(){return keySound.enable=this.checked?!0:!1})},$(document).ready(function(){return $("#scriptpage").addBackBtn=!1,$(".key.main").mousedown(function(a){return a.preventDefault()}),$('div[data-role="page"].editorpage').bind("pageshow",function(){return $("#keyboard-on")[0].checked?$("#keys").css("display","block"):$("#keys").css("display","none")}),$('div[data-role="page"]:not(.editorpage)').bind("pageshow",function(){return $("#keys").css("display","none")}),$("#runpage").bind("pagebeforeshow",function(){return $("#application").html(markupEditor.getValue())}),$("#runpage").bind("pageshow",function(){try{return eval(scriptEditor.compile())}catch(error){return window.siphon.log('<p style="color:red;">'+error.message+"</p>")}}),initScriptEditor(),initMarkupEditor(),/iPad/.test(navigator.userAgent)?($("#keyboard-on")[0].checked=!0,$("#keys").css("display","block")):($("#scriptpage").bind("pageshow",function(){return scriptEditor.refresh(),cheatViewer.refresh()}),$("#markuppage").bind("pageshow",function(){return markupEditor.refresh()})),layoutEditor(),initCheatViewer(),softKeyboard(),menuBar(),settingMenu(),$("#error").text("What's New (12/29/2011): Sample codes for libraries are available from open menu.")})})).call(this);